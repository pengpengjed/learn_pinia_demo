<template>
  <div class="Home">
    <h2>name: {{ name }}</h2>
    <h2>age: {{ age }}</h2>
    <h2>level: {{ level }}</h2>
    <button @click="changeState">ä¿®æ”¹state</button>
    <button @click="resetState">é‡ç½®state</button>
  </div>
</template>

<script setup>
import useUser from '@/store/user';
import { storeToRefs } from 'pinia';

const userStore = useUser();
const { name, age, level } = storeToRefs(userStore);

function changeState() {
  // 1.ä¸€ä¸ªä¸ªä¿®æ”¹çŠ¶æ€
  // userStore.name = 'kobe';
  // userStore.age = 20;
  // userStore.level = 200;

  // 2.ä¸€æ¬¡æ€§ä¿®æ”¹å¤šä¸ªçŠ¶æ€
  // userStore.$patch({
  //   name: 'van',
  //   age: 77
  // })

  // 3.æ›¿æ¢stateä¸ºæ–°çš„å¯¹è±¡
  const oldState = userStore.$state;
  userStore.$state = {
    name: 'deepâ™‚ dark ğŸ˜'
  };
  console.log(oldState === userStore.$state);
}

function resetState() {
  userStore.$reset();
}
</script>
<style scoped lang="less"></style>
